# 운영체제 - 이화여자대학교 : 반효경

## 운영체제란?

운영체제란?
  - 컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층

운영체제의 목적
  1. 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 제공
    - 운영체제는 동시 사용자/프로그램들이 각각 독자적 컴퓨터에서 수행되는 것 같은 환상을 제공
    - 하드웨어를 직접 다루는 복잡한 부분을 운영체제가 대행

  2. 컴퓨터 시스템의 자원을 효율적으로 관리 ⭐
    - CPU, 메모리, I/O 디바이스 등의 효율적 관리
      - 주어진 자원으로 최대한의 성능을 내도록 => 효율성
      - 특정 사용자/프로그램의 지나친 불이익이 발생하지 않도록 => 형평성
    - 사용자 및 운영체제 자신의 보호
    - 실행중인 프로그램들에게 짧은 시간씩 CPU를 번갈아 할당
    - 실행중인 프로그램들에 메모리 공간(유한한 공간)을 적절히 분배

컴퓨터 시스템의 구조
  - 컴퓨터 내부 : CPU, 메모리(프로그램 A,B,C 운영체제(핵심 : 커널))
  - 입출력(I/O) 디바이스 : 디스크, 키보드, 프린트, 모니터
    - CPU의 작업 공간을 메모리라고 볼 수 있으며, 기본적으로 CPU는 컴퓨터 내부에 메모리에만 접근할 수 있기 때문에 입출력(I/O) 디바이스 중 디스크의 파일이 필요할 때는 입출력(I/O) 디바이스에 따로 붙어있는 I/O 컨트롤러라는 일종의 작은 CPU와 메모리에 올라온 파일을 올려서 그 파일을 컴퓨터 내부의 메모리에 올려 CPU가 그 파일을 읽는다
    
운영체제의 기능  
  - CPU 스케줄링 : 어떤 프로그램에게 CPU 사용권을 줄까?
  - 메모리 관리 : 한정된 메모리를 어떻게 쪼개어 쓰지?
  - 디스크 스케줄링 : 디스크에 들어온 요청을 어떤 순서로 처리할까?(요청이 들어온 순서대로 하면 비효율적 나중에 들어온 요청이라고 할지라도 그것을 먼저 처리하는 것이 효율적이라고 판단된다면 순서를 뒤집는 것이 디스크 스케줄링의 기능)
  - 인터럽트, 캐싱 : 빠른 CPU와 느린 I/O 장치간 속도차를 어떻게 극복하지?
    - 캐싱 : 중간 계층을 두는 것
    - 인터럽트 : CPU가 프로그램을 실행하고있을 때, 입출력하드웨어(I/O 장치) 등의 장치에 예외상황이 발생하여 처리가 필요할 경우에 CPU에게 알려 처리할 수 있도록 하는 것

  CPU 스케줄링
    1. CPU 스케줄링 FCFS(First-Come First-Served)
      1) 프로세스의 도착 순서 : p1, p2, p3
      waiting time : p1=0; p2=24;, p3=27
      average waiting time = (0+24+27)/3 = 17

      2) 프로세스의 도착 순서 : p2, p3, p1
      waiting time : p1=6; p2=0;, p3=3
      average waiting time = (6+0+3)/3 = 3

      해당 방법은 프로세스 사용시간이 더 오래 걸리는 것이 더 먼저 도착했는지 나중에 도착했는지에 따라 밸류에이션이 굉장히 커짐

    2. CPU 스케줄링 SJF(Shortest-Job-First)
      - 금번 CPU 사용시간이 가장 짧은 프로세스를 제일 먼저 스케줄
      - SJF는 minimum average waiting time을 보장
      - 프로세스의 도착 순서 : p1 : 24s, p2 : 4s, p3 : 2s
      - 프로세스의 처리 순서 : p3, p2, p1
      - 문제 : Starvation(기아 현상) 발생 가능(형평성이 떨어짐)

    3. CPU 스케줄링 Round Robin(RR)
      - 각 프로세스는 동일 크기의 CPU 할당시간을 가짐
      - 할당시간이 끝나면 인터럽트가 발생하여 프로세스는 CPU를 빼앗기고 CPU 큐의 제일 뒤에 줄을 섬
      - n개의 프로세스가 CPU 큐에 있는 경우
        - 어떤 프로세스도 (n-1)*할당시간 이상 기다리지 않음
        - 대기시간이 프로세스의 CPU 사용시간에 비례

  메모리 관리
    한정된 메모리 내에 새롭게 들어오는 페이지를 처리하기 위해서 어떻게 해야하는가?
    예를 들어 메모리 공간이 4페이지 밖에 없을 경우 5번째 페이지를 보관하기 위해서는 어떤 페이지를 삭제해야하는지 골라야할 때 두가지 방법을 고려해볼 수 있다
      - LRU(가장 오래 전에 참조 페이지 삭제)
      - LFU(참조횟수가 가장 적은 페이지 삭제)

  디스크 스케줄링
    디스크 접근 시간의 구성
      - 탐색시간(Seek time) : 헤드를 해당 트랙(실린더)으로 움직이는데 걸리는 시간
      - 회전지연(Rotational latency) : 헤드가 원하는 섹터에 도달하기까지 걸리는 시간
      - 전송시간(Transfer time) : 실제 데이터의 전송 시간

    디스크 스케줄링(Disk Scheduling)
      - seek time을 최소화하는 것이 목표
      - seek time = seek distance

      디스크 스케줄링 SCAN
        - 헤드가 디스크의 한쪽 끝에서 다른쪽 끝으로 이동하며 가는 길목에 있는 모든 요청을 처리한다
        - 다른 한쪽 끝에 도달하면 역방향으로 이동하며 오는 길목에 있는 모든 요청을 처리하며 다시 반대쪽 끝으로 이동한다

    저장장치 계층구조와 캐싱
      primary(executable)
      - 레지스터
      - 캐시 메모리
      - 메인 메모리
      secondary
      - 마그네틱 디스크
      - 옵티컬 디스크
      - 마그네틱 테이프

      - 위로 올라갈수록 빠르고 비싸며, primary(executable) 부분은 CPU에서 접근이 가능하며 휘발성의 특징을 갖고 있으며 secondary은 I/O 의 영역으로 CPU에서 직접 접근이 불가능하며 휘발성의 특징을 갖지 않는다
      - 캐싱 계층을 두는 이유는 장치간 속도 차이를 완충 : 중간에 데이터를 복사를 해놓음으로서 장치간 이동을 끝까지 내려갔다가 다시 올라가는 것이 아니라 중간에 데이터를 저장해놓은 캐싱까지만 감으로서 장치간 속도 차이를 완충할 수 있다

    플래시메모리
      - 플래시메모리
        - 반도체장치(하드디스크: 마그네틱)
        - NAND형(스토리지), NOR형(임베디드 코드저장용)

      - 플래시메모리의 특징
        - Nonvolatile
        - Low power consumption
        - Shock resistance
        - Small size
        - Lightweight
        - 쓰기 횟수 제약

      - 플래시메모리의 사용형태
        - 휴대폰, PDA 등 임베디드 시스템 구성용
        - USB용 메모리 스틱
        - 디지털카메라 등의 SD카드
        - 모바일 장치 뿐 아니라 대용량 시스템에서 SSD란 이름으로 하드디스크 대체 시도