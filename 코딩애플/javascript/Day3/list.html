<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="list.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
	</head>
  <body>
    <div class="container">
      <div class="row">
    
          <!-- <div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>Card title</h5>
            <p>가격 : 70000</p>
          </div> -->
          
    
      </div>
    </div> 

    <div class="container">
      <button class="btn btn-primary" id="price">가격순 정렬</button>
      <button class="btn btn-primary" id="title">상품명 역순 정렬</button>
      <button class="btn btn-primary" id="filter">6만원 이하 상품만 보기</button>
      <button class="btn btn-danger" id="more">더보기</button>
    </div>
    <script>
      var products = [
        { id : 0, price : 70000, title : 'Blossom Dress' },
        { id : 1, price : 50000, title : 'Springfield Shirt' },
        { id : 2, price : 60000, title : 'Black Monastery' }
      ]

      function 상품생성(){
          products.forEach((data, i) => {
          var 상품 = 
          `<div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>${products[i].title}</h5>
            <p>가격 : ${products[i].price}</p>
          </div>`;
          $('.row').append(상품)
        })
      }

      // 기본 상품 생성
      상품생성()

      // 가격 정렬
      $('#price').click(function(){

        products.sort(function(a, b){
          return a.price - b.price
        });
        // console.log(products)

        $('.row').html('');

        상품생성()
      }); 

      // 상품명 역순 정렬
      $('#title').click(function(){
        products.sort(function(a, b){
          if (a.title < b.title){
            return 1;
          } else if (a.title > b.title){
            return -1;
          } else {
            return 0
          }
        })
        
        $('.row').html('');

        상품생성()

      })

      // 6만원 이하 상품만 보기
      $('#filter').click(function(){
        var productsFilter = products.filter(function(a){
          return a.price <= 60000; 
        })

        console.log(productsFilter)/
        $('.row').html('');

        productsFilter.forEach((a, i) => {
          var 상품 = 
          `<div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>${productsFilter[i].title}</h5>
            <p>가격 : ${productsFilter[i].price}</p>
          </div>`;
          $('.row').append(상품)
        })
      })

      var 어레이 = [7, 3, 5, 2, 40]
      // array 정렬하는 법
      // 1. 문자정렬
      // 어레이.sort() 
      // 2. 숫자정렬
      어레이.sort(function(a, b){
        return a - b
      });
      // 1. a, b는 array 안의 자료들입니다.
      // 2. return 오른쪽이 양수면 a를 오른쪽으로 정렬해줍니다.
      // 3. return 오른쪽이 음수면 b를 오른쪽으로 정렬해줍니다.
      // 4. 그리고 array 안의 자료들을 계속 뽑아서 a, b에 넣어줍니다. 
      // 이렇게 동작해서 a - b 저렇게 쓰면 숫자순 정렬이 되는 것입니다. 

      // array 자료 원하는 것만 필터하려면 .filter()
      // filter() 결과는 변수에 저장해서 써야함
      var 새어레이 = 어레이.filter(function(a){
        return a < 4 // 조건식
      })

      // array 자료 전부 변형하려면 .map()
      var 새어레이2 = 어레이.map(function(a){
        return a * 4 // 조건식
      })
      console.log(새어레이2)
    </script> 

    <script>
      function moreBtn(data){
        data.forEach((a, i) => {
          var 더보기 = 
          `<div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>${data[i].title}</h5>
            <p>가격 : ${data[i].price}</p>
          </div>`;
          $('.row').append(더보기);
        });
      }

      var cnt = 0;
      $('#more').on('click', function(){
        cnt += 1
        if (cnt == 1){
          $.get('https://codingapple1.github.io/js/more1.json')
          .done((data) => {
            moreBtn(data);
          });
        } else if (cnt == 2){
          $.get('https://codingapple1.github.io/js/more2.json')
          .done((data) => {
            moreBtn(data);
            $('#more').addClass('btn-hide');
          });
        }
      });
    </script>

    <script>
      
      // $.get('https://codingapple1.github.io/hello.txt').done(function(data){
      //   console.log(data)
      // }).fail(function(){
      //   console.log('실패함')
      // })

      // $.get('https://codingapple1.github.io/price.json').done(function(data){
      //   console.log(data.price)
      // })

      // fetch('https://codingapple1.github.io/price.json')
      // .then(res => res.json())
      // .then(function(data){
      //   console.log(data)
      // })
      // .catch(function(error){
      //   console.log('실패함')
      // });

    </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>