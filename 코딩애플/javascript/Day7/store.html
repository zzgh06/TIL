<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
	</head>
  <body>
    <nav style="width: 100vw; padding: 15px;">
      <div class="nav-logo">
        <h1>집꾸미기</h1>
      </div>
      <div class="nav-category">
        <ul class="list">
          <li class="tab-btn text-white">Home</li>
          <li class="tab-btn">스토어</li>
          <li class="tab-btn">시공견적</li>
        </ul>
      </div>
    </nav>
    <script>
      var 버튼 = $('.tab-btn');
      for (let i = 0; i < 버튼.length; i++) {
        버튼.eq(i).click(function(){
          버튼.removeClass('text-white')
          버튼.eq(i).addClass('text-white')
        })
      }
    </script>
    <main>
      <div class="container">
        <div class="search">
          <input type="text" placeholder="검색어를 입력하세요">
        </div>
        <div class="products-list"></div>
        <div class="shopping-basket">
          <h5>장바구니</h5>
          <div class="drag-box">
            <p>여기로 드래그</p>
          </div>
        </div>
      </div>
    </main>
    <script>
      // 이 부분에 대한 회고 필요
      // 서버가 없을 경우, JSON 파일을 로컬에서 불러올때, 
      // 보안 이슈가 있으니, 라이브 서버를 활용하거나 서버를 따로 만들어야함
      // 로컬에서의 JSON 파일 요청방법
      $(document).ready(function(){
        $.ajax({
            // 파일 위치와 요청방식(get or post) 
            url: "store.json",
            type: 'GET',
        }).done(function(data){
            console.log(data);
            // JSON 파일에 저장된 데이터 형태에 따라 불러올 때, 주의
            상품생성(data.products); // 수정된 부분
        });

        function 상품생성(data){
            data.forEach((data, i) => {
                var 상품 =
                `<div class="card" style="width: 18rem;">
                    <img src="${data.photo}" class="card-img-top" alt="">
                    <div class="card-body">
                        <h5 class="card-title fw-bold">${data.title}</h5>
                        <p class="card-text text-secondary">${data.brand}</p>
                        <p class="card-text">가격 : ${data.price}</p>
                        <a href="#" class="btn btn-dark">담기</a>
                    </div>
                </div>`;
                $('.products-list').append(상품);
            });
        }
    });
    
    </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>